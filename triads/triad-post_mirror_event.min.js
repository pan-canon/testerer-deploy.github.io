"use strict";(self.webpackChunktesterer_deploy_github_io=self.webpackChunktesterer_deploy_github_io||[]).push([[467],{350:(e,t,a)=>{a.d(t,{e:()=>n});var i=a(166);class n{constructor(e){this.eventManager=e,this.key=""}async activate(){try{this.eventManager.isEventLogged(this.key)||(console.log(`Activating event: ${this.key}`),await this.eventManager.addDiaryEntry(this.key))}catch(e){i.S.logError(e,"BaseEvent.activate"),i.S.showError("An error occurred during event activation.")}}async addDiaryEntry(e,t=!1){try{await this.eventManager.addMessengerEntry(e,t)}catch(e){i.S.logError(e,"BaseEvent.addDiaryEntry"),i.S.showError("An error occurred while adding a diary entry.")}}}},470:(e,t,a)=>{a.d(t,{Y:()=>n});var i=a(350);a(713);class n extends i.e{constructor(e,t,a,i){super(e),this.app=t,this.key=a.key}async activate(){this.eventManager.isEventLogged(this.key)?console.log(`[PostMirrorEvent] Event '${this.key}' is already logged, skipping activation.`):(console.log(`[PostMirrorEvent] Activating event '${this.key}'.`),await this.addDiaryEntry(this.key,!0),this.app.viewManager&&"function"==typeof this.app.viewManager.setPostButtonEnabled&&this.app.viewManager.setPostButtonEnabled(!0),this.app.visualEffectsManager&&"function"==typeof this.app.visualEffectsManager.triggerMirrorEffect&&this.app.visualEffectsManager.triggerMirrorEffect(),console.log("[PostMirrorEvent] Mirror quest cycle ended; waiting for user action to trigger the next quest."),document.dispatchEvent(new CustomEvent("gameEventCompleted",{detail:this.key})))}}},476:(e,t,a)=>{a.d(t,{y:()=>n});var i=a(350);a(713);class n extends i.e{constructor(e,t,a,i){super(e),this.app=t,this.key=a.key}async activate(e){const t=e||this.key;if(this.eventManager.isEventLogged(t))return void console.log(`[PostRepeatingEvent] Event '${t}' is already logged, skipping activation.`);console.log(`[PostRepeatingEvent] Activating event '${t}'.`),await this.addDiaryEntry(t,!0);const a=this.app.ghostManager.getCurrentGhost();a&&a.isFinished?console.log("[PostRepeatingEvent] Ghost is finished; ready to dispatch event completion."):(this.app.viewManager&&"function"==typeof this.app.viewManager.setPostButtonEnabled&&this.app.viewManager.setPostButtonEnabled(!0),this.app.visualEffectsManager&&"function"==typeof this.app.visualEffectsManager.triggerMirrorEffect&&this.app.visualEffectsManager.triggerMirrorEffect(),console.log("[PostRepeatingEvent] Repeating quest cycle ended; waiting for user action.")),document.dispatchEvent(new CustomEvent("gameEventCompleted",{detail:t}))}}},849:(e,t,a)=>{a.r(t),a.d(t,{PostMirrorEvent:()=>i.Y,PostRepeatingEvent:()=>n.y});var i=a(470),n=a(476)}}]);