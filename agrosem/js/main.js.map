{"version":3,"sources":["app.js","search.js"],"names":["$table","main","Swiper","slidesPerView","centeredSlides","loop","speed","pagination","el","clickable","autoplay","disableOnInteraction","delay","top_sales","spaceBetween","navigation","prevEl","nextEl","new_sales","sale_sales","recommend_sales","splicingSwiper","clearCallMeForm","$","mQuery","window","matchMedia","matches","on","$self","this","hasClass","when","animate","height","then","toggleClass","_ref","target","$parent","closest","shift","left","scrollpos","user_viewport","scrolllevel","index","attr","find","removeClass","addClass","concat","offset","top","scrollTop","fadeOut","fadeIn","hide","id","prop","remove","length","serie","body","name","clone","children","end","text","is","split","marker","indexOf","type","cat","append","JSON","stringify","opacity","used","each","__n","css","display","data","parse","console","log","pointer","parseInt","image","trigger","_ref2","uri","location","anchorScroll","_ref3","mask","email_flag","val","phone_flag","validity","valid","removeAttr","right","request_data","voc","request_voc","prod","phone","email","comment","pathname","ajax","url","dataType","contentType","beforeSend","request","setRequestHeader","success","ret","__textStatus","xhr","status","show","setTimeout","hash","anchor","replace","anchor2","block_pos","isNaN","video_slider","slideUp","slideDown","loadPrevNext","breakpoints","320","991","blog_slider","ags_main_slider","_ref4","pos","document","documentElement","slideTo","ags_secondary_slider","parseHTMLString","controller","control","$children","i","setInterval","clearInterval","__","filename","html","_ref5","content","$content","_ref6","$modal","$tags","idtag","__swipe","eq","slideChange","swiper","index_currentSlide","realIndex","currentSlide","slides","$head","1","2","3","4","_ref7","curIndex","event","KeyCode","$box","$holder","srchText","$header","result","stored","pages","link","async","doc","cloneNode","item","innerHTML","page","querySelector","push","_loop","pEl","hEL","htmlStringMatchesQuery","getElementsByText","tag","overflow","promise","done","$content_box","head","links","j","join","parser","DOMParser","str","parseFromString","getSearchStringForDoc","title","innerText","map","trim","stringMatchesQuery","query","toLowerCase","some","q","includes","htmlDoc","htmlSearchString","src","call","Array","prototype","slice","getElementsByTagName","res","filter","textContent"],"mappings":"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","file":"main.js","sourcesContent":["const main = new Swiper('.swiper.promo_main', {\r\n\tslidesPerView: 1,\r\n\tcenteredSlides: true,\r\n\tloop: true,\r\n\tspeed: 700,\r\n\tpagination: {\r\n    el: '.swiper-pagination',\r\n\t\tclickable: true\r\n  },\r\n\tautoplay: {\r\n\t\tdisableOnInteraction: true,\r\n\t\tdelay: 4000\r\n\t}\r\n});\r\n// main-promo\r\nconst top_sales = new Swiper('.sales.top_sales .sales_body.swiper', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 20,\r\n\tcenteredSlides: false,\r\n\tloop: false,\r\n\tnavigation: {\r\n\t\tprevEl: '.sales.top_sales .slide_controls .prev',\r\n\t\tnextEl: '.sales.top_sales .slide_controls .next'\r\n\t},\r\n});\r\nconst new_sales = new Swiper('.sales.new_sales .sales_body.swiper', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 20,\r\n\tcenteredSlides: false,\r\n\tloop: false,\r\n\tnavigation: {\r\n\t\tprevEl: '.sales.new_sales .slide_controls .prev',\r\n\t\tnextEl: '.sales.new_sales .slide_controls .next'\r\n\t},\r\n});\r\nconst sale_sales = new Swiper('.sales.sale_sales .sales_body.swiper', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 20,\r\n\tcenteredSlides: false,\r\n\tloop: false,\r\n\tnavigation: {\r\n\t\tprevEl: '.sales.sale_sales .slide_controls .prev',\r\n\t\tnextEl: '.sales.sale_sales .slide_controls .next'\r\n\t},\r\n});\r\nconst recommend_sales = new Swiper('.sales.recommend_sales .sales_body.swiper', {\r\n\tslidesPerView: 4,\r\n\tspaceBetween: 15,\r\n\tcenteredSlides: false,\r\n\tloop: false,\r\n\tnavigation: {\r\n\t\tprevEl: '.sales.recommend_sales .slide_controls .prev',\r\n\t\tnextEl: '.sales.recommend_sales .slide_controls .next'\r\n\t}\r\n});\r\nconst splicingSwiper = new Swiper('.swiper.promo_splicing', {\r\n\tslidesPerView: 1,\r\n\tcenteredSlides: true,\r\n\tloop: false,\r\n\tspeed: 700,\r\n\tpagination: {\r\n    el: '.swiper-pagination',\r\n\t\tclickable: true\r\n  },\r\n});\r\n$(function(){\r\n\tconst mQuery = window.matchMedia('screen and (max-width: 768px)');\r\n\tif( mQuery.matches ){\r\n\t\t$('.menu.row_menu').on('click', function(){\r\n\t\t\tlet $self = $(this);\r\n\t\t\tif( $self.hasClass('active') ){\r\n\t\t\t\t$.when($self.animate({'height': '13.33333vw'}, 250))\r\n\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t$self.toggleClass('active')\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t$.when($self.animate({'height': '163.33333vw'}, 250))\r\n\t\t\t\t\t.then(function(){\r\n\t\t\t\t\t\t$self.toggleClass('active')\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t$('.filter .expander_btn').on('click', ({target})=>{\r\n\t\t\tlet $parent = $(target).closest('.catalog_body');\r\n\t\t\tlet shift = $parent.hasClass('menu_open') ? '-76vw' : '0';\r\n\t\t\t$.when($parent.animate({'left':shift}), 250)\r\n\t\t\t\t.then(()=>{\r\n\t\t\t\t\t$parent.toggleClass('menu_open')\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\t$('.table_sw').on('click', '.sw_item:not(.active)', function(){\r\n\t\tlet index = $(this).attr('data-pointer');\r\n\t\t$('.table.table_sw').find('.sw_item.active').removeClass('active');\r\n\t\t$(this).addClass('active');\r\n\t\tif( $(this).closest('.table_sw').hasClass('inner_body') ){\r\n\t\t\t$('.table.table_body').find('.body_item').find('td.active').removeClass('active');\r\n\t\t\t$('.table.table_body').find('.body_item').find(`td[data-target=${index}]`).addClass('active');\r\n\t\t\tlet scrollpos = $('.table.table_body').find('.body_item').find(`td[data-target=${index}]`).offset().top,\r\n\t\t\t\tuser_viewport = $(window).height(),\r\n\t\t\t\tscrolllevel = 0;\r\n\t\t\tif( mQuery.matches ){\r\n\t\t\t\tscrollpos -= $(this).closest('.table_sw').height();\r\n\t\t\t\tscrolllevel = (scrollpos) - (user_viewport / 5);\r\n\t\t\t} else {\r\n\t\t\t\tscrolllevel = (scrollpos) - (user_viewport / 3);\r\n\t\t\t}\r\n\t\t\t$('html, body').animate({ \r\n\t\t\t\tscrollTop: scrolllevel\r\n\t\t\t}, 500);\r\n\t\t} else {\r\n\t\t\t$.when($('.table.table_body').find('.body_item.active').fadeOut())\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$('.table.table_body').find('.body_item.active').removeClass('active');\r\n\t\t\t\t\t$('.table.table_body').find(`.body_item[data-target=${index}]`).fadeIn().addClass('active');\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\t$('.ico.star, .ico.buy').on('click', function(){\r\n\t\t$(this).toggleClass('un');\r\n\t});\r\n\t$('.filter').on('click', '.all_trigger', function(){\r\n\t\t$(this).closest('.box').find('.collapse').removeClass('collapse');\r\n\t\t$(this).hide();\r\n\t});\r\n\t$('.filter').on('click', '.filter_item .del', function(){\r\n\t\tlet id = $(this).closest('.filter_item').attr('data-id');\r\n\t\t$('.filter').find(`input#${id}`).prop(\"checked\", false);\r\n\t\t$(this).closest('.filter_item').remove();\r\n\t\t// to FUNC! (repeat)\r\n\t\tif( $('.filter').find('.box.used_data').find('.filter_body').find('.filter_item').length === 0 ){\r\n\t\t\t$('.filter').find('.box.used_data').find('.filter_body').find('.apply_filter').removeClass('shown');\r\n\t\t} else {\r\n\t\t\t$('.filter').find('.box.used_data').find('.filter_body').find('.apply_filter').addClass('shown');\r\n\t\t}\r\n\t});\r\n\t$('.filter').find('input[type=\"checkbox\"]').on('change', function(){\r\n\t\tlet id = $(this).attr('id'),\r\n\t\t\tname = $(this).closest('.chk_item').find('p.key').clone() //clone the element\r\n\t\t\t.children() //select all the children\r\n\t\t\t.remove() //remove all the children\r\n\t\t\t.end() //again go back to selected element\r\n\t\t\t.text();\r\n\t\tif( !$(this).closest('.box').hasClass('label') ){\r\n\t\t\tif( $(this).is(':checked') ){\r\n\t\t\t\t/*\r\n\t\t\t\t\tТип техніки: 1\r\n\t\t\t\t\tСерія: 2\r\n\t\t\t\t*/\r\n\t\t\t\tlet serie = id.split('_')[id.split('_').length - 1];\r\n\t\t\t\tlet marker = id.indexOf('mach_') !== -1 ? 1 : 2;\r\n\t\t\t\tlet body = {\r\n\t\t\t\t\t\"id\": id,\r\n\t\t\t\t\t\"marker\": marker,\r\n\t\t\t\t\t\"type\": $(this).closest('li').attr('data-type'),\r\n\t\t\t\t\t\"cat\": $(this).closest('li').attr('data-serie'),\r\n\t\t\t\t\t\"serie\": serie\r\n\t\t\t\t}\r\n\t\t\t\t$('.filter').find('.box.used_data').find('.filter_body').append(\r\n\t\t\t\t\t`<div class=\"filter_item\" data-id=\"${id}\" data-body='${JSON.stringify(body)}'><span>${name}</span><i class=\"ico del\"></i></div>`\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\t$('.filter').find('.box.used_data').find('.filter_body').find(`.filter_item[data-id=\"${id}\"]`).remove();\r\n\t\t\t}\r\n\t\t\t// to FUNC! (repeat)\r\n\t\t\tif( $('.filter').find('.box.used_data').find('.filter_body').find('.filter_item').length === 0 ){\r\n\t\t\t\t$('.filter').find('.box.used_data').find('.filter_body').find('.apply_filter').removeClass('shown');\r\n\t\t\t} else {\r\n\t\t\t\t$('.filter').find('.box.used_data').find('.filter_body').find('.apply_filter').addClass('shown');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t$('.filter').find('.btn.clear_filter').on('click', function(){\r\n\t\t$('.filter').find('.box.used_data').find('.filter_body').find('.filter_item').remove();\r\n\t\t$('.filter').find('.box.used_data').find('.filter_body').find('.apply_filter').removeClass('shown');\r\n\t\t$('.filter').find('.box.chkbox:not(.label)').find('input[type=\"checkbox\"]').prop(\"checked\", false);\r\n\t});\r\n\t$('.filter').find('.ico.toggle').on('click', function(){\r\n\t\tlet $self = $(this);\r\n\t\tif( $self.hasClass('open') ){\r\n\t\t\t$self.removeClass('open')\r\n\t\t\t$.when($self.closest('.box').find('.filter_body').animate({'opacity':'1'}, 250))\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$self.closest('.box').find('.filter_body').fadeIn(250);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\t$self.addClass('open')\r\n\t\t\t$.when($self.closest('.box').find('.filter_body').animate({'opacity':'0'}, 250))\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$self.closest('.box').find('.filter_body').fadeOut(250);\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\t$('.box.label').on('change', 'input[type=\"checkbox\"]', function(){\r\n\t\tlet $self = $(this),\r\n\t\t\t$parent = $self.closest('ul.filter_body'),\r\n\t\t\tused = $self.attr('data-point'),\r\n\t\t\tid = $self.attr('id');\r\n\r\n\t\t$parent.find('input[type=\"checkbox\"]').each(function(__n,el){\r\n\t\t\tif( $(el).attr('data-point') !== used ){\r\n\t\t\t\t$(el).prop('checked', false);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('.filter').find('.box.chkbox:not(.label)').find('input[type=\"checkbox\"]').prop('checked', false);\r\n\t\t$('.filter').find('.filter_item').remove();\r\n\t\t$('.filter').find('.apply_filter').removeClass('shown');\r\n\t\t$('.filter').find('.box.chkbox:not(.label)').find('ul.filter_body').find(`li.chk_item:not([data-label=${used}])`).css({'display': 'none'});\r\n\t\t$('.filter').find('.box.chkbox:not(.label)').find('ul.filter_body').find(`li.chk_item[data-label=${used}]`).css({'display': 'flex'});\r\n\t\t// show more handle\r\n\t\t$('.filter').find('.box.chkbox:not(.label)').each(function(__n,el){\r\n\t\t\t$(el).find('.filter_body.collapse').removeClass('collapse');\r\n\t\t\t$(el).find('.all_trigger').hide();\r\n\t\t});\r\n\t\t// filter items\r\n\t\tif( id.indexOf('label') !== -1 ){\r\n\t\t\t// by label\r\n\t\t\t$.when($('.catalog_body').find('.items_wrap').find(`.item`).fadeOut(250))\r\n\t\t\t\t.then($('.catalog_body').find('.items_wrap').find(`.item[brand=${id}]`).fadeIn(250));\r\n\t\t}\r\n\t});\r\n\t$('.filter').find('.btn.apply_filter').on('click', function(){\r\n\t\t$.when($('.catalog_body').find('.items_wrap').find('.item').fadeOut(250))\r\n\t\t.then(function(){\r\n\t\t\t$('.filter').find('.box.used_data').find('.filter_body').find('.filter_item').each(function(__n,el){\r\n\t\t\t\tlet data = JSON.parse($(el).attr('data-body'));\r\n\t\t\t\tconsole.log(data.marker,data.marker === 2)\r\n\t\t\t\tif( data.marker === 1 ){\r\n\t\t\t\t\t$('.catalog_body').find('.items_wrap').find('.item').fadeOut(250);\r\n\t\t\t\t\t$('.catalog_body').find('.items_wrap').find(`.item[serie=${data.serie}]`).fadeIn(250);\r\n\t\t\t\t} else if( data.marker === 2 ){\r\n\t\t\t\t\t$('.catalog_body').find('.items_wrap').find('.item').fadeOut(250);\r\n\t\t\t\t\t$('.catalog_body').find('.items_wrap').find(`.item[cat=\"${data.cat}\"]`).fadeIn(250);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\t$('.wrapper.catalog').find('pagenator').fadeOut()\r\n\t});\r\n\t$('.switch_holder').on('click', '.sw_item', function(){\r\n\t\tlet $self = $(this),\r\n\t\t\t$parent = $self.closest('.sw_wrap'),\r\n\t\t\tpointer = parseInt($self.attr('data-pointer'), 10),\r\n\t\t\timage = $self.attr('data-image');\r\n\r\n\t\tif( pointer !== 0 ){\r\n\t\t\t$parent.find('.sw_item.active').removeClass('active');\r\n\t\t\t$self.addClass('active');\r\n\t\t\t$.when($parent.find('.switch_target').find('.text_wrap.active').fadeOut(150).removeClass('active'))\r\n\t\t\t\t.then(function(){\r\n\t\t\t\t\t$parent.find('.switch_target').find(`.text_wrap[sw-target=\"${pointer}\"]`).fadeIn(150).addClass('active');\r\n\t\t\t\t\tif( image !== '' ){\r\n\t\t\t\t\t\t$parent.find('.switch_target').find('.sw_image').attr('style', image);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\t$('.onhover .switch_holder').on('mouseover', '.sw_item', function(){\r\n\t\tlet $self = $(this);\r\n\t\tif( !$self.hasClass('active') ){\r\n\t\t\t$self.trigger('click');\r\n\t\t}\r\n\t});\r\n\t$('.onhover .switch_holder').on('click', '.sw_item.active', ({target})=>{\r\n\t\tlet $self = $(target),\r\n\t\t\tpointer = $self.attr('data-pointer'),\r\n\t\t\turi = $self.closest('.sw_wrap').find(`.text_wrap[sw-target=${pointer}]`)\r\n\t\t\t\t.find('a.arrow').attr('href');\r\n\r\n\t\tif( uri != '' ){\r\n\t\t\twindow.location = uri;\r\n\t\t}\r\n\t});\r\n\t// $('.question_block').on('click', 'a.btn.send.form', function(){\r\n\t// \t$(this).find('.feedback_form').fadeToggle();\r\n\t// });\r\n\tanchorScroll();\r\n\t$('a.box.move_to').on('click', ({target})=>{\r\n\t\tanchorScroll($(target).closest('.move_to').attr('href'));\r\n\t});\r\n\t// MODAL\r\n\t$('input[name=\"form_phone\"]').mask('+38(099)999-99-99');\r\n\t$('.question_modal').find('input[type=\"text\"], textarea[name=\"form_comment\"]').on('keypress', ()=>{\r\n\t\tlet email_flag = $('input[name=\"form_email\"]').val() === '' ? false : true;\r\n\t\tlet phone_flag = $('input[name=\"form_phone\"]').val() === '' ? false : true;\r\n\t\temail_flag = email_flag ? $('input[name=\"form_email\"]')[0].validity.valid : true;\r\n\t\tif( phone_flag && ($('input[name=\"form_email\"]').val() === '' || $('input[name=\"form_email\"]')[0].validity.valid) ){\r\n\t\t\t$('a.btn.form_submit').removeAttr('disabled');\r\n\t\t} else {\r\n\t\t\t$('a.btn.form_submit').attr('disabled', true);\r\n\t\t}\r\n\t});\r\n\t$('.question_block a.btn.send.form, .promo_splicing a.btn.send.form').on('click', ()=>{\r\n\t\t$.when($('.modal_bg').fadeIn(150)).then(()=>{\r\n\t\t\t$('.question_modal').animate({'right': 0}, 250);\t\r\n\t\t})\r\n\t});\r\n\t$('.question_modal a.ico.del').on('click', ()=>{\r\n\t\t$('.question_modal').animate({'right': \"-100%\"}, 250, ()=>{\r\n\t\t\tclearCallMeForm();\r\n\t\t\t$('.modal_bg').fadeOut(150);\r\n\t\t});\r\n\t});\r\n\t$('a.btn.form_submit').on('click', ()=>{\r\n\t\tlet ok = true;\r\n\t\tlet request_data = {};\r\n\t\t// let voc = request_voc.dev;\r\n\t\tlet voc = request_voc.prod;\r\n\t\trequest_data[\"client\"] = {\r\n\t\t\t\"name\":$('input[name=\"form_name\"]').val(),\r\n\t\t\t\"phone\":$('input[name=\"form_phone\"]').val(),\r\n\t\t\t\"email\":$('input[name=\"form_email\"]').val(),\r\n\t\t\t\"comment\":`[${voc[window.location.pathname]}]\\n${$('textarea[name=\"form_comment\"]').val()}`,\r\n\t\t};\r\n\t\t$('a.btn.form_submit').attr('disabled', true);\r\n\t\tif( ok ){\r\n\r\n\t\t\t$.ajax({\r\n\t\t\t\turl:'https://mailsender.rb-idea.com/api/v1/send/callme',\r\n\t\t\t\t// url:'http://http://92.249.124.216:8111/api/v1/send/shop-cart',\r\n\t\t\t\ttype:'POST',\r\n\t\t\t\tdataType: 'json',\r\n\t\t\t\tcontentType: 'application/json',\r\n\t\t\t\tbeforeSend: function(request) {\r\n\t\t\t\t\trequest.setRequestHeader(\"token\", \"54268hla-791g-4658-7g9h-781354965472\"); // TODO Request TOKEN\r\n\t\t\t\t},\r\n\t\t\t\tdata:JSON.stringify(request_data),\r\n\t\t\t\tsuccess:(ret,__textStatus,xhr)=>{\r\n\t\t\t\t\tif( xhr.status === 200 ){\r\n\t\t\t\t\t\t$('.question_modal').find('.modal_body[data-stage=\"1\"]').hide();\r\n\t\t\t\t\t\t$('.question_modal').find('.modal_body[data-stage=\"2\"]').show();\r\n\t\t\t\t\t\tclearCallMeForm();\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t$('.question_modal').find('a.ico.del').trigger('click');\r\n\t\t\t\t\t\t}, 3000);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(ret);\r\n\t\t\t\t\t// if( ret.ok ){\r\n\t\t\t\t\t// \twindow.location.reload;\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\nconst clearCallMeForm = () => {\r\n\t$('.question_modal').find('.modal_body[data-stage=\"2\"]').hide();\r\n\t$('.question_modal').find('input').val('');\r\n\t$('.question_modal').find('textarea').val('');\r\n\t$('.question_modal').find('.modal_body[data-stage=\"1\"]').show();\r\n};\r\nconst anchorScroll = (uri) => {\r\n\tconst hash = uri ? uri : window.location.hash;\r\n\tif( hash !== '' ){\r\n\t\tlet anchor = hash.split('_');\r\n\t\tif( anchor.length >= 2 ){\r\n\t\t\tlet pointer = anchor[0].replace('#',''),\r\n\t\t\t\tanchor2 = anchor[1].split('-')[1],\r\n\t\t\t\tblock_pos = isNaN(parseInt(anchor2, 10)) ? 0 : parseInt(anchor2, 10);\r\n\t\t\tconsole.log(pointer)\r\n\t\t\tswitch( pointer ){\r\n\t\t\t\tcase 'about':\r\n\t\t\t\t\tif( $('.wrapper').hasClass('about_company') ){\r\n\t\t\t\t\t\t$('html, body').animate({ \r\n\t\t\t\t\t\t\tscrollTop: $($(`.wrapper.${pointer}`).children()[block_pos+1]).offset().top\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'fertilizers-page':\r\n\t\t\t\t\tif( $('.wrapper').hasClass(pointer) ){\r\n\t\t\t\t\t\t$('html, body').animate({ \r\n\t\t\t\t\t\t\tscrollTop: $($(`.wrapper.${pointer}`).find('article.group_wrapper').children()[block_pos]).offset().top\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'packService':\r\n\t\t\t\t\tif( $('.wrapper').hasClass('pack_service') ){\r\n\t\t\t\t\t\t$('html, body').animate({ \r\n\t\t\t\t\t\t\tscrollTop: $($(`.wrapper.pack_service`).children()[block_pos+1]).offset().top\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tconsole.log($(`.wrapper.${pointer}`).children())\r\n\t\t\t\t\tif( $(`.wrapper`).hasClass(pointer) ){\r\n\t\t\t\t\t\t$('html, body').animate({ \r\n\t\t\t\t\t\t\tscrollTop: $($(`.wrapper.${pointer}`).children()[block_pos+1]).offset().top\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n// blinking fix https://codepen.io/mirta91/pen/bKPzed\r\n// const mach_main_slider = new Swiper('.agrospace .main_news  .alt_news.swiper', {\r\n// \tslidesPerView: 'auto',\r\n// \tcenteredSlides: false,\r\n// \tloadPrevNext: true,\r\n// \tloop: false\r\n// });\r\n// const mach_secondary_slider = new Swiper('.agrospace .main_news .main_news_gal.swiper', {\r\n// \tslidesPerView: 'auto',\r\n// \tspaceBetween: 40,\r\n// \tcenteredSlides: true,\r\n// \tloop: false,\r\n// \tnavigation: {\r\n// \t\tprevEl: '.main_news .gal_controls .prev',\r\n// \t\tnextEl: '.main_news .gal_controls .next'\r\n// \t},\r\n// \tpagination: {\r\n// \t\tel: \".news_pagination\",\r\n// \t\ttype: \"progressbar\",\r\n// \t},\r\n// });\r\n// mach_main_slider.controller.control = mach_secondary_slider;\r\n// mach_secondary_slider.controller.control = mach_main_slider;\r\n$('.wrapper.info_page').on('click', '.part_head', function(){\r\n\tlet $self = $(this),\r\n\t\t$parent = $self.closest('.part_data')\r\n\tif( $parent.hasClass('active') ){\r\n\t\t$.when($parent.find('.part_body').slideUp()).then(function(){\r\n\t\t\t$parent.toggleClass('active');\r\n\t\t});\r\n\t} else {\r\n\t\t$.when($parent.find('.part_body').slideDown()).then(function(){\r\n\t\t\t$parent.toggleClass('active');\r\n\t\t});\r\n\t} \r\n});\r\n$('.mission').on('click', '.round:not(.active)', function(){\r\n\tlet index = $(this).attr('data-pointer');\r\n\t$('.mission').find('.round.active').removeClass('active');\r\n\t$(this).addClass('active');\r\n\t$.when($('.mission').find('.text_wrap.active').fadeOut())\r\n\t\t.then(function(){\r\n\t\t\t$('.mission').find('.text_wrap.active').removeClass('active');\r\n\t\t\t$('.mission').find(`.text_wrap[data-target=${index}]`).fadeIn().addClass('active');\r\n\t\t});\r\n});\r\nconst video_slider = new Swiper('.about_company  .main_video_gal.swiper', {\r\n\tslidesPerView: 2,\r\n\tspaceBetween: 80,\r\n\tcenteredSlides: true,\r\n\tloadPrevNext: true,\r\n\tloop: false,\r\n\tnavigation: {\r\n\t\tprevEl: '.main_video_gal .gal_controls .prev',\r\n\t\tnextEl: '.main_video_gal .gal_controls .next'\r\n\t},\r\n\tpagination: {\r\n\t\tel: \".gal_pagination\",\r\n\t\ttype: \"progressbar\",\r\n\t},\r\n\tbreakpoints: {\r\n    // mobile + tablet - 320-990\r\n    320: {\r\n      slidesPerView: 1\r\n    },\r\n    // desktop >= 991\r\n    991: {\r\n      slidesPerView: 2\r\n    }\r\n  }\r\n});\r\nconst blog_slider = new Swiper('.blog_page  .main_video_gal.swiper', {\r\n\tslidesPerView: 1.56,\r\n\tspaceBetween: 80,\r\n\tcenteredSlides: true,\r\n\tloadPrevNext: true,\r\n\tloop: false,\r\n\tnavigation: {\r\n\t\tprevEl: '.main_video_gal .gal_controls .prev',\r\n\t\tnextEl: '.main_video_gal .gal_controls .next'\r\n\t},\r\n\tpagination: {\r\n\t\tel: \".gal_pagination\",\r\n\t\ttype: \"progressbar\",\r\n\t},\r\n\tbreakpoints: {\r\n    // mobile + tablet - 320-990\r\n    320: {\r\n      slidesPerView: 1\r\n    },\r\n    // desktop >= 991\r\n    991: {\r\n      slidesPerView: 1.56\r\n    }\r\n  }\r\n});\r\nif( $('.wrapper').hasClass('blog_page') ){\r\n\t$('.blog').find('.box.bg').on('click', ({target})=>{\r\n\t\tconst $self = $(target).closest('a.box.bg');\r\n\t\tconst pos = $self.index();\r\n\r\n\t\t$([document.documentElement, document.body]).animate({\r\n\t\t\tscrollTop: 250\r\n\t\t}, 1000);\r\n\r\n\t\tblog_slider.slideTo(pos);\r\n\t});\r\n}\r\n// AGROSPACE\r\nconst ags_main_slider = new Swiper('.agrospace  .alt_news.swiper', {\r\n\tslidesPerView: 'auto',\r\n\tcenteredSlides: false,\r\n\tloadPrevNext: true,\r\n\tloop: false,\r\n\tbreakpoints: {\r\n    // mobile + tablet - 320-990\r\n    320: {\r\n      slidesPerView: 1,\r\n    },\r\n    // desktop >= 991\r\n    991: {\r\n      slidesPerView: 1\r\n    }\r\n  }\r\n});\r\nconst ags_secondary_slider = new Swiper('.agrospace .main_news_gal.swiper', {\r\n\tslidesPerView: 'auto',\r\n\tspaceBetween: 40,\r\n\tcenteredSlides: true,\r\n\tloop: false,\r\n\tnavigation: {\r\n\t\tprevEl: '.agrospace .gal_controls .prev',\r\n\t\tnextEl: '.agrospace .gal_controls .next'\r\n\t},\r\n\tpagination: {\r\n\t\tel: \".news_pagination\",\r\n\t\ttype: \"progressbar\",\r\n\t},\r\n\tbreakpoints: {\r\n    // mobile + tablet - 320-990\r\n    320: {\r\n      slidesPerView: 1\r\n    },\r\n    // desktop >= 991\r\n    991: {\r\n      slidesPerView: 1\r\n    }\r\n  }\r\n});\r\nags_main_slider.controller.control = ags_secondary_slider;\r\nags_secondary_slider.controller.control = ags_main_slider;\r\n\r\n$('a.anchor').on('click', function(){\r\n\tlet id = $(this).attr('anchor'),\r\n\t\ttarget = $(`#${id}`);\r\n\r\n\t$([document.documentElement, document.body]).animate({\r\n\t\tscrollTop: $(target).offset().top\r\n\t}, 2000);\r\n});\r\n\r\n$('footer.main_footer.dsk').on('click', '.btn.to_top', function(){\r\n\t$([document.documentElement, document.body]).animate({\r\n\t\tscrollTop: 0\r\n\t}, 2000);\r\n});\r\n\r\n$('.about_company').on('click', 'a.arrow.red', function(){\r\n\tlet $self = $(this),\r\n\t\t$parent = $self.closest('.blog').find('.box_wrap'),\r\n\t\t$children = $parent.find('a.box');\r\n\r\n\tlet i = 5;\r\n\tvar loop = window.setInterval(function () {\r\n\t\ti++;\r\n\t\t$($children[i]).fadeIn(250);\r\n\t\tif (i == $children.length)\r\n\t\t\tclearInterval(loop);\r\n\t}, 250);\r\n\t$self.closest('.service_tail').fadeOut()\r\n});\r\n\r\nif( $(\".table_init\").length !== 0 ){\r\n\tconst $table = $(\".table_init\");\r\n\t$table.each((__,el)=>{\r\n\t\tconst filename = $(el).attr('data-source');\r\n\t\t$.ajax(`../table/${filename}`,{\r\n\t\t\ttype: 'GET',\r\n\t\t\t// contentType: 'text/html;charset=utf-8',\r\n\t\t\tdataType: 'html',\r\n\t\t\tsuccess:(ret)=>{\r\n\t\t\t\t// let retData = $(ret).html()\r\n\t\t\t\t// // $($(ret)[1]).html(`<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">`);\r\n\t\t\t\t// // $($(ret)[1]).attr('content', 'text/html; charset=utf-8'),\r\n\t\t\t\t// console.log(\r\n\t\t\t\t// \tretData\r\n\t\t\t\t// \t// $($(ret)[1]).attr('content'),\r\n\t\t\t\t// \t// $(ret),\r\n\t\t\t\t// \t// $(document),\r\n\t\t\t\t// \t// ret.querySelector('table')\r\n\t\t\t\t// \t)\r\n\t\t\t\t\r\n\t\t\t\t// // $(ret).each((__n,element) => {\r\n\t\t\t\t// // \tconsole.log(__n,element)\r\n\t\t\t\t// // \tif( $(element).attr('http-equiv') == \"Content-Type\" ){\r\n\t\t\t\t// // \t\t$(element).attr('content', 'text/html; charset=utf-8');\r\n\t\t\t\t// // \t\tconsole.log(\"inside:\",ret[__n])\r\n\t\t\t\t// // \t}\r\n\t\t\t\t// // \tconsole.log(\"after_loop:\", element)\r\n\t\t\t\t// // });\r\n\t\t\t\t$(el).html(`<table>${$(ret).find('tbody').html()}</table>`);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n$('.partners').on('click', '.p_item', ({target})=>{\r\n\tconst $self = $(target),\r\n\t\tcontent = $self.attr('content'),\r\n\t\t$content = $self.closest('.partners').find('.content');\r\n\tif( content ){\r\n\t\t$content.find('.body').html(content);\r\n\t\t$content.toggleClass('front');\r\n\t\t$content.animate({'opacity': 1}, 150);\r\n\t}\r\n});\r\n$('.partners').on('click', '.content i', ({target})=>{\r\n\tconst $modal = $(target).closest('.content');\r\n\t$modal.animate({'opacity':0}, 150, ()=>{\r\n\t\t$modal.toggleClass('front');\r\n\t});\r\n});\r\nif( $('article.group_wrapper').length != 0 ){\r\n\t$('article.group_wrapper').find('section.group_wrap').each((__n,el)=>{\r\n\t\tlet $self = $(el),\r\n\t\t\t$swiper = $self.find('.items_wrap'),\r\n\t\t\t$controls = $self.find('.wrapper_constrols'),\r\n\t\t\t$tags = $self.find('.tags_head'),\r\n\t\t\tidtag = $self.attr('id');\r\n\t\t$tags.find('.tag').eq(0).addClass('active');\r\n\t\t\r\n\t\tlet __swipe = new Swiper(`#${idtag} .swiper`, {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: false,\r\n\t\t\tloop: false,\r\n\t\t\tnavigation: {\r\n\t\t\t\tprevEl: `#${idtag} .swiper .prev`,\r\n\t\t\t\tnextEl: `#${idtag} .swiper .next`\r\n\t\t\t},\r\n\t\t\ton:{\r\n\t\t\t\tslideChange: (swiper) => {\r\n\t\t\t\t\tconst index_currentSlide = swiper.realIndex;\r\n\t\t\t\t\tconst currentSlide = swiper.slides[index_currentSlide]\r\n\t\t\t\t\t//\r\n\t\t\t\t\tlet $head = $(`section.group_wrap#${idtag}`).find('.tags_head');\r\n\t\t\t\t\t$head.find('.active').removeClass('active');\r\n\t\t\t\t\t$head.find('.tag').eq(index_currentSlide).addClass('active');\r\n\t\t\t\t\tconsole.log({\r\n\t\t\t\t\t\t1: index_currentSlide,\r\n\t\t\t\t\t\t2: currentSlide,\r\n\t\t\t\t\t\t3:$(`section.group_wrap#${idtag}`),\r\n\t\t\t\t\t\t4:`section.group_wrap#group_${idtag}`\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t});\r\n\t\t$tags.on('click', '.tag:not(.active)', ({target})=>{\r\n\t\t\tlet curIndex = $(target).index();\r\n\t\t\t__swipe.slideTo( curIndex );\r\n\t\t})\r\n\t})\r\n}","$('input.search').on('keypress', function(event) {\r\n\t// console.log(event.keyCode)\r\n\tif (event.KeyCode === 13) {\r\n\t\t$('.search_field .btn.srch').trigger('click');\t\t\r\n\t}\r\n});\r\n$('.search_field').on('click', '.btn.srch', ({target})=>{\r\n\tconst $box = $(target).closest('.search_field');\r\n\tconst $holder = $box.closest('header').find('.src_box');\r\n\tvar srchText = $box.find('input.search:not(.adp)').val();\r\n\tconst mQuery = window.matchMedia('screen and (max-width: 768px)');\r\n\tconst $header = $(target).closest('header');\r\n\tif( mQuery.matches ){\r\n\t\tsrchText = $('input.search.adp').val();\r\n\t}\r\n\r\n\tvar result = [];\r\n\tlet stored = [];\r\n\tfor( let i = 0; i < pages.length; i++ ){\r\n\t\tlet el = pages[i];\r\n\t\t$.ajax({\r\n\t\t\turl: el.link,\r\n\t\t\tasync: false,\r\n\t\t\tsuccess: function(html){\r\n\t\t\t\tvar doc = document.documentElement.cloneNode();\r\n\t\t\t\tdoc.innerHTML = html;\r\n\t\t\t\tlet item = {\r\n\t\t\t\t\t\"page\":el,\r\n\t\t\t\t\t\"content\":doc.querySelector('.wrapper').innerHTML\r\n\t\t\t\t};\r\n\t\t\t\tstored.push(item);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tfor( let i = 0; i < stored.length; i ++ ){\r\n\t\tlet el = stored[i];\r\n\t\tif( htmlStringMatchesQuery(el.content, srchText) ){\r\n\t\t\tlet pEl = getElementsByText(el.content, srchText, 'p');\r\n\t\t\tlet hEL = getElementsByText(el.content, srchText, 'h2');\r\n\t\t\tif( pEl.length > 0 ){\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\t'el':el,\r\n\t\t\t\t\t'tag':pEl\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tif( hEL.length > 0 ){\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\t'el':el,\r\n\t\t\t\t\t'tag':hEL\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif( mQuery.matches ){\r\n\t\t$header.css({'overflow':'inherit'});\r\n\t\t$holder.animate({'right':'0'});\r\n\t\t$('body').addClass('noscroll');\r\n\t} else {\r\n\t\t$header.css({'overflow':'inherit'})\r\n\t\t$holder.animate({'right':'20px'});\r\n\t}\r\n\t$holder.on('click', '.ico.close', ()=>{\r\n\t\t$holder.animate({'right':'-100%'}).promise().done(()=>{$header.css({'overflow':'hidden'})});\r\n\t\t$holder.find('.cnt').children().remove();\r\n\t\t$('body').removeClass('noscroll');\r\n\t});\r\n\tif( result.length > 0 ){\r\n\t\t// console.log(result)\r\n\t\tlet $content_box = $holder.find('.cnt');\r\n\t\t$holder.find('.cnt').children().remove();\r\n\t\tfor( let i = 0; i < result.length; i++ ){\r\n\t\t\tlet el = result[i];\r\n\t\t\t// console.log(el)\r\n\t\t\tlet container = $content_box.find(`.cnt_box[data-head=\"${el.el.page.name}\"]`);\r\n\t\t\tlet item;\r\n\t\t\t// console.log(container)\r\n\t\t\tif( container.length == 0 ){\r\n\t\t\t\tlet head = `<a href=\"${el.el.page.link}\" class=\"cnt_box\" data-head=\"${el.el.page.name}\"><p class=\"cnt_head\">${el.el.page.name}</p>`;\r\n\t\t\t\tlet tail = \"</a>\";\r\n\t\t\t\tlet links = [];\r\n\t\t\t\t// item = (`<div class=\"cnt_box\" data-head=\"${el.el.page.name}\"><p class=\"cnt_head\">${el.el.page.name}</p></div>`);\r\n\t\t\t\t// console.log(el.tag)\r\n\t\t\t\tfor(let j = 0; j < el.tag.length; j++){\r\n\t\t\t\t\tlinks.push($(el.tag[j]).prop('outerHTML'));\r\n\t\t\t\t\t// console.log(el.tag[j]);\r\n\t\t\t\t}\r\n\t\t\t\t// item.find('.cnt_box').prepend(`<a class=\"cnt_link\" href=\"${el.el.page.link}\">${el.el.page.tag}</a>`);\r\n\t\t\t\t// console.log(links);\t\r\n\t\t\t\titem = head + links.join('') + tail;\r\n\t\t\t}\r\n\t\t\t// console.log(item)\r\n\t\t\t$content_box.append(item);\r\n\t\t}\r\n\t} else {\r\n\t\tlet $content_box = $holder.find('.cnt');\r\n\t\t$holder.find('.cnt').children().remove();\r\n\t\tif( srchText !== '' ){\r\n\t\t\t$content_box.append(`<a href=\"javascript:;\"><p class=\"cnt_head\">По вашому запиту \"${srchText}\" нічого не знайдено</p>`);\r\n\t\t}\r\n\t}\r\n});\r\nconst parseHTMLString = (() => {\r\n  const parser = new DOMParser();\r\n  return str => parser.parseFromString(str, \"text/html\");\r\n})();\r\n\r\nconst getSearchStringForDoc = doc => {\r\n  return [\r\n    doc.title,\r\n    doc.body.innerText\r\n  ].map(str => str.trim())\r\n   .join(\" \");\r\n};\r\n\r\nconst stringMatchesQuery = (str, query) => {\r\n\tconsole.log(query)\r\n  str = str.toLowerCase();\r\n  query = query.toLowerCase();\r\n  \r\n  return query\r\n    .split(/\\W+/)\r\n    .some(q => str.includes(q))\r\n};\r\n\r\nconst htmlStringMatchesQuery = (str, query) => {\r\n\tif( query === '' ){\r\n\t\treturn false\r\n\t}\r\n  const htmlDoc = parseHTMLString(str);\r\n  const htmlSearchString = getSearchStringForDoc(htmlDoc);\r\n  return stringMatchesQuery(htmlSearchString, query);\r\n};\r\n\r\nfunction getElementsByText(src, str, tag) {\r\n\tconst doc = parseHTMLString(src);\r\n\tconst call = Array.prototype.slice.call(doc.getElementsByTagName(tag));\r\n\tlet res = [];\r\n\tcall.filter(el => {\r\n\t\tif( el.textContent.trim().toLowerCase().includes(str.trim().toLowerCase()) ){\r\n\t\t\tres.push(el)\r\n\t\t}\r\n\t})\r\n  return res\r\n}\r\n\r\n"]}