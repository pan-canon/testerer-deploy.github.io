{{ $mode_custom := .Site.Params.Site.Mode }}
{{ $postsCount := len .Site.RegularPages }}
{{ $arrPosts := slice }}
{{ $theEnd := i18n "search_theEnd" }}
{{ $nothing := i18n "search_nothing" }}
{{ $found := i18n "search_found" }}
{{ $result := i18n "search_result" }}
{{ $results := i18n "search_results" }}
{{ $enableMermaid := .Params.mermaid }}
{{ range .Site.RegularPages }}
    {{ $thePost := dict "title" .Title "pubDate" (.PublishDate.Format "2006-01-02") "plain" .Plain "link" .Permalink }}
    {{ $arrPosts = $arrPosts | append $thePost }}
{{ end }}

{{ $baseURL := .Site.BaseURL }}

<script type="text/javascript">
    let mode_custom = {{ $mode_custom }};
    let postsCount = {{ $postsCount }};
    let arrPosts = {{ $arrPosts }};
    let search_theEnd = {{ $theEnd }};
    let search_nothing = {{ $nothing }};
    let search_found = {{ $found }};
    let search_result = {{ $result }};
    let search_results = {{ $results }};
    let enable_mermaid = {{ $enableMermaid }};
    let baseURL = {{ $baseURL }};
</script>