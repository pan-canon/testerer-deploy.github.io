"use strict";var $table,main=new Swiper(".swiper.promo_main",{slidesPerView:1,centeredSlides:!0,loop:!0,speed:700,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{disableOnInteraction:!0,delay:4e3}}),top_sales=new Swiper(".sales.top_sales .sales_body.swiper",{slidesPerView:4,spaceBetween:20,centeredSlides:!1,loop:!1,navigation:{prevEl:".sales.top_sales .slide_controls .prev",nextEl:".sales.top_sales .slide_controls .next"}}),new_sales=new Swiper(".sales.new_sales .sales_body.swiper",{slidesPerView:4,spaceBetween:20,centeredSlides:!1,loop:!1,navigation:{prevEl:".sales.new_sales .slide_controls .prev",nextEl:".sales.new_sales .slide_controls .next"}}),sale_sales=new Swiper(".sales.sale_sales .sales_body.swiper",{slidesPerView:4,spaceBetween:20,centeredSlides:!1,loop:!1,navigation:{prevEl:".sales.sale_sales .slide_controls .prev",nextEl:".sales.sale_sales .slide_controls .next"}}),recommend_sales=new Swiper(".sales.recommend_sales .sales_body.swiper",{slidesPerView:4,spaceBetween:15,centeredSlides:!1,loop:!1,navigation:{prevEl:".sales.recommend_sales .slide_controls .prev",nextEl:".sales.recommend_sales .slide_controls .next"}}),splicingSwiper=new Swiper(".swiper.promo_splicing",{slidesPerView:1,centeredSlides:!0,loop:!1,speed:700,pagination:{el:".swiper-pagination",clickable:!0}}),clearCallMeForm=($(function(){var i=window.matchMedia("screen and (max-width: 768px)");i.matches&&($(".menu.row_menu").on("click",function(){var e=$(this);(e.hasClass("active")?$.when(e.animate({height:"13.33333vw"},250)):$.when(e.animate({height:"163.33333vw"},250))).then(function(){e.toggleClass("active")})}),$(".filter .expander_btn").on("click",function(e){var e=e.target,t=$(e).closest(".catalog_body"),e=t.hasClass("menu_open")?"-76vw":"0";$.when(t.animate({left:e}),250).then(function(){t.toggleClass("menu_open")})})),$(".table_sw").on("click",".sw_item:not(.active)",function(){var e,t,a,n=$(this).attr("data-pointer");$(".table.table_sw").find(".sw_item.active").removeClass("active"),$(this).addClass("active"),$(this).closest(".table_sw").hasClass("inner_body")?($(".table.table_body").find(".body_item").find("td.active").removeClass("active"),$(".table.table_body").find(".body_item").find("td[data-target=".concat(n,"]")).addClass("active"),e=$(".table.table_body").find(".body_item").find("td[data-target=".concat(n,"]")).offset().top,t=$(window).height(),a=0,a=i.matches?(e-=$(this).closest(".table_sw").height())-t/5:e-t/3,$("html, body").animate({scrollTop:a},500)):$.when($(".table.table_body").find(".body_item.active").fadeOut()).then(function(){$(".table.table_body").find(".body_item.active").removeClass("active"),$(".table.table_body").find(".body_item[data-target=".concat(n,"]")).fadeIn().addClass("active")})}),$(".ico.star, .ico.buy").on("click",function(){$(this).toggleClass("un")}),$(".filter").on("click",".all_trigger",function(){$(this).closest(".box").find(".collapse").removeClass("collapse"),$(this).hide()}),$(".filter").on("click",".filter_item .del",function(){var e=$(this).closest(".filter_item").attr("data-id");$(".filter").find("input#".concat(e)).prop("checked",!1),$(this).closest(".filter_item").remove(),0===$(".filter").find(".box.used_data").find(".filter_body").find(".filter_item").length?$(".filter").find(".box.used_data").find(".filter_body").find(".apply_filter").removeClass("shown"):$(".filter").find(".box.used_data").find(".filter_body").find(".apply_filter").addClass("shown")}),$(".filter").find('input[type="checkbox"]').on("change",function(){var e,t,a=$(this).attr("id"),n=$(this).closest(".chk_item").find("p.key").clone().children().remove().end().text();$(this).closest(".box").hasClass("label")||($(this).is(":checked")?(e=a.split("_")[a.split("_").length-1],t=-1!==a.indexOf("mach_")?1:2,t={id:a,marker:t,type:$(this).closest("li").attr("data-type"),cat:$(this).closest("li").attr("data-serie"),serie:e},$(".filter").find(".box.used_data").find(".filter_body").append('<div class="filter_item" data-id="'.concat(a,"\" data-body='").concat(JSON.stringify(t),"'><span>").concat(n,'</span><i class="ico del"></i></div>'))):$(".filter").find(".box.used_data").find(".filter_body").find('.filter_item[data-id="'.concat(a,'"]')).remove(),0===$(".filter").find(".box.used_data").find(".filter_body").find(".filter_item").length?$(".filter").find(".box.used_data").find(".filter_body").find(".apply_filter").removeClass("shown"):$(".filter").find(".box.used_data").find(".filter_body").find(".apply_filter").addClass("shown"))}),$(".filter").find(".btn.clear_filter").on("click",function(){$(".filter").find(".box.used_data").find(".filter_body").find(".filter_item").remove(),$(".filter").find(".box.used_data").find(".filter_body").find(".apply_filter").removeClass("shown"),$(".filter").find(".box.chkbox:not(.label)").find('input[type="checkbox"]').prop("checked",!1)}),$(".filter").find(".ico.toggle").on("click",function(){var e=$(this);e.hasClass("open")?(e.removeClass("open"),$.when(e.closest(".box").find(".filter_body").animate({opacity:"1"},250)).then(function(){e.closest(".box").find(".filter_body").fadeIn(250)})):(e.addClass("open"),$.when(e.closest(".box").find(".filter_body").animate({opacity:"0"},250)).then(function(){e.closest(".box").find(".filter_body").fadeOut(250)}))}),$(".box.label").on("change",'input[type="checkbox"]',function(){var e=$(this),t=e.closest("ul.filter_body"),a=e.attr("data-point"),e=e.attr("id");t.find('input[type="checkbox"]').each(function(e,t){$(t).attr("data-point")!==a&&$(t).prop("checked",!1)}),$(".filter").find(".box.chkbox:not(.label)").find('input[type="checkbox"]').prop("checked",!1),$(".filter").find(".filter_item").remove(),$(".filter").find(".apply_filter").removeClass("shown"),$(".filter").find(".box.chkbox:not(.label)").find("ul.filter_body").find("li.chk_item:not([data-label=".concat(a,"])")).css({display:"none"}),$(".filter").find(".box.chkbox:not(.label)").find("ul.filter_body").find("li.chk_item[data-label=".concat(a,"]")).css({display:"flex"}),$(".filter").find(".box.chkbox:not(.label)").each(function(e,t){$(t).find(".filter_body.collapse").removeClass("collapse"),$(t).find(".all_trigger").hide()}),-1!==e.indexOf("label")&&$.when($(".catalog_body").find(".items_wrap").find(".item").fadeOut(250)).then($(".catalog_body").find(".items_wrap").find(".item[brand=".concat(e,"]")).fadeIn(250))}),$(".filter").find(".btn.apply_filter").on("click",function(){$.when($(".catalog_body").find(".items_wrap").find(".item").fadeOut(250)).then(function(){$(".filter").find(".box.used_data").find(".filter_body").find(".filter_item").each(function(e,t){t=JSON.parse($(t).attr("data-body"));console.log(t.marker,2===t.marker),1===t.marker?($(".catalog_body").find(".items_wrap").find(".item").fadeOut(250),$(".catalog_body").find(".items_wrap").find(".item[serie=".concat(t.serie,"]")).fadeIn(250)):2===t.marker&&($(".catalog_body").find(".items_wrap").find(".item").fadeOut(250),$(".catalog_body").find(".items_wrap").find('.item[cat="'.concat(t.cat,'"]')).fadeIn(250))})}),$(".wrapper.catalog").find("pagenator").fadeOut()}),$(".switch_holder").on("click",".sw_item",function(){var e=$(this),t=e.closest(".sw_wrap"),a=parseInt(e.attr("data-pointer"),10),n=e.attr("data-image");0!==a&&(t.find(".sw_item.active").removeClass("active"),e.addClass("active"),$.when(t.find(".switch_target").find(".text_wrap.active").fadeOut(150).removeClass("active")).then(function(){t.find(".switch_target").find('.text_wrap[sw-target="'.concat(a,'"]')).fadeIn(150).addClass("active"),""!==n&&t.find(".switch_target").find(".sw_image").attr("style",n)}))}),$(".onhover .switch_holder").on("mouseover",".sw_item",function(){var e=$(this);e.hasClass("active")||e.trigger("click")}),$(".onhover .switch_holder").on("click",".sw_item.active",function(e){var e=e.target,e=$(e),t=e.attr("data-pointer"),e=e.closest(".sw_wrap").find(".text_wrap[sw-target=".concat(t,"]")).find("a.arrow").attr("href");""!=e&&(window.location=e)}),anchorScroll(),$("a.box.move_to").on("click",function(e){e=e.target;anchorScroll($(e).closest(".move_to").attr("href"))}),$('input[name="form_phone"]').mask("+38(099)999-99-99"),$(".question_modal").find('input[type="text"], textarea[name="form_comment"]').on("keypress",function(){var e=""!==$('input[name="form_email"]').val(),t=""!==$('input[name="form_phone"]').val();e&&$('input[name="form_email"]')[0].validity.valid;t&&(""===$('input[name="form_email"]').val()||$('input[name="form_email"]')[0].validity.valid)?$("a.btn.form_submit").removeAttr("disabled"):$("a.btn.form_submit").attr("disabled",!0)}),$(".question_block a.btn.send.form, .promo_splicing a.btn.send.form").on("click",function(){$.when($(".modal_bg").fadeIn(150)).then(function(){$(".question_modal").animate({right:0},250)})}),$(".question_modal a.ico.del").on("click",function(){$(".question_modal").animate({right:"-100%"},250,function(){clearCallMeForm(),$(".modal_bg").fadeOut(150)})}),$("a.btn.form_submit").on("click",function(){var e={},t=request_voc.prod;e.client={name:$('input[name="form_name"]').val(),phone:$('input[name="form_phone"]').val(),email:$('input[name="form_email"]').val(),comment:"[".concat(t[window.location.pathname],"]\n").concat($('textarea[name="form_comment"]').val())},$("a.btn.form_submit").attr("disabled",!0),$.ajax({url:"https://mailsender.rb-idea.com/api/v1/send/callme",type:"POST",dataType:"json",contentType:"application/json",beforeSend:function(e){e.setRequestHeader("token","54268hla-791g-4658-7g9h-781354965472")},data:JSON.stringify(e),success:function(e,t,a){200===a.status&&($(".question_modal").find('.modal_body[data-stage="1"]').hide(),$(".question_modal").find('.modal_body[data-stage="2"]').show(),clearCallMeForm(),setTimeout(function(){$(".question_modal").find("a.ico.del").trigger("click")},3e3))}})})}),function(){$(".question_modal").find('.modal_body[data-stage="2"]').hide(),$(".question_modal").find("input").val(""),$(".question_modal").find("textarea").val(""),$(".question_modal").find('.modal_body[data-stage="1"]').show()}),anchorScroll=function(e){e=e||window.location.hash;if(""!==e){e=e.split("_");if(2<=e.length){var t=e[0].replace("#",""),e=e[1].split("-")[1],a=isNaN(parseInt(e,10))?0:parseInt(e,10);switch(console.log(t),t){case"about":$(".wrapper").hasClass("about_company")&&$("html, body").animate({scrollTop:$($(".wrapper.".concat(t)).children()[a+1]).offset().top},500);break;case"fertilizers-page":$(".wrapper").hasClass(t)&&$("html, body").animate({scrollTop:$($(".wrapper.".concat(t)).find("article.group_wrapper").children()[a]).offset().top},500);break;case"packService":$(".wrapper").hasClass("pack_service")&&$("html, body").animate({scrollTop:$($(".wrapper.pack_service").children()[a+1]).offset().top},500);break;default:console.log($(".wrapper.".concat(t)).children()),$(".wrapper").hasClass(t)&&$("html, body").animate({scrollTop:$($(".wrapper.".concat(t)).children()[a+1]).offset().top},500)}}}},video_slider=($(".wrapper.info_page").on("click",".part_head",function(){var e=$(this).closest(".part_data");(e.hasClass("active")?$.when(e.find(".part_body").slideUp()):$.when(e.find(".part_body").slideDown())).then(function(){e.toggleClass("active")})}),$(".mission").on("click",".round:not(.active)",function(){var e=$(this).attr("data-pointer");$(".mission").find(".round.active").removeClass("active"),$(this).addClass("active"),$.when($(".mission").find(".text_wrap.active").fadeOut()).then(function(){$(".mission").find(".text_wrap.active").removeClass("active"),$(".mission").find(".text_wrap[data-target=".concat(e,"]")).fadeIn().addClass("active")})}),new Swiper(".about_company  .main_video_gal.swiper",{slidesPerView:2,spaceBetween:80,centeredSlides:!0,loadPrevNext:!0,loop:!1,navigation:{prevEl:".main_video_gal .gal_controls .prev",nextEl:".main_video_gal .gal_controls .next"},pagination:{el:".gal_pagination",type:"progressbar"},breakpoints:{320:{slidesPerView:1},991:{slidesPerView:2}}})),blog_slider=new Swiper(".blog_page  .main_video_gal.swiper",{slidesPerView:1.56,spaceBetween:80,centeredSlides:!0,loadPrevNext:!0,loop:!1,navigation:{prevEl:".main_video_gal .gal_controls .prev",nextEl:".main_video_gal .gal_controls .next"},pagination:{el:".gal_pagination",type:"progressbar"},breakpoints:{320:{slidesPerView:1},991:{slidesPerView:1.56}}}),ags_main_slider=($(".wrapper").hasClass("blog_page")&&$(".blog").find(".box.bg").on("click",function(e){e=e.target,e=$(e).closest("a.box.bg").index();$([document.documentElement,document.body]).animate({scrollTop:250},1e3),blog_slider.slideTo(e)}),new Swiper(".agrospace  .alt_news.swiper",{slidesPerView:"auto",centeredSlides:!1,loadPrevNext:!0,loop:!1,breakpoints:{320:{slidesPerView:1},991:{slidesPerView:1}}})),ags_secondary_slider=new Swiper(".agrospace .main_news_gal.swiper",{slidesPerView:"auto",spaceBetween:40,centeredSlides:!0,loop:!1,navigation:{prevEl:".agrospace .gal_controls .prev",nextEl:".agrospace .gal_controls .next"},pagination:{el:".news_pagination",type:"progressbar"},breakpoints:{320:{slidesPerView:1},991:{slidesPerView:1}}}),parseHTMLString=((ags_main_slider.controller.control=ags_secondary_slider).controller.control=ags_main_slider,$("a.anchor").on("click",function(){var e=$(this).attr("anchor"),e=$("#".concat(e));$([document.documentElement,document.body]).animate({scrollTop:$(e).offset().top},2e3)}),$("footer.main_footer.dsk").on("click",".btn.to_top",function(){$([document.documentElement,document.body]).animate({scrollTop:0},2e3)}),$(".about_company").on("click","a.arrow.red",function(){var e=$(this),t=e.closest(".blog").find(".box_wrap").find("a.box"),a=5,n=window.setInterval(function(){a++,$(t[a]).fadeIn(250),a==t.length&&clearInterval(n)},250);e.closest(".service_tail").fadeOut()}),0!==$(".table_init").length&&($table=$(".table_init")).each(function(e,t){var a=$(t).attr("data-source");$.ajax("../table/".concat(a),{type:"GET",dataType:"html",success:function(e){$(t).html("<table>".concat($(e).find("tbody").html(),"</table>"))}})}),$(".partners").on("click",".p_item",function(e){var e=e.target,e=$(e),t=e.attr("content"),e=e.closest(".partners").find(".content");t&&(e.find(".body").html(t),e.toggleClass("front"),e.animate({opacity:1},150))}),$(".partners").on("click",".content i",function(e){var e=e.target,t=$(e).closest(".content");t.animate({opacity:0},150,function(){t.toggleClass("front")})}),0!=$("article.group_wrapper").length&&$("article.group_wrapper").find("section.group_wrap").each(function(e,t){var t=$(t),a=(t.find(".items_wrap"),t.find(".wrapper_constrols"),t.find(".tags_head")),n=t.attr("id"),i=(a.find(".tag").eq(0).addClass("active"),new Swiper("#".concat(n," .swiper"),{slidesPerView:1,spaceBetween:0,centeredSlides:!1,loop:!1,navigation:{prevEl:"#".concat(n," .swiper .prev"),nextEl:"#".concat(n," .swiper .next")},on:{slideChange:function(e){var t=e.realIndex,e=e.slides[t],a=$("section.group_wrap#".concat(n)).find(".tags_head");a.find(".active").removeClass("active"),a.find(".tag").eq(t).addClass("active"),console.log({1:t,2:e,3:$("section.group_wrap#".concat(n)),4:"section.group_wrap#group_".concat(n)})}}}));a.on("click",".tag:not(.active)",function(e){e=e.target,e=$(e).index();i.slideTo(e)})}),$("input.search").on("keypress",function(e){13===e.KeyCode&&$(".search_field .btn.srch").trigger("click")}),$(".search_field").on("click",".btn.srch",function(e){for(var e=e.target,t=$(e).closest(".search_field"),a=t.closest("header").find(".src_box"),n=t.find("input.search:not(.adp)").val(),t=window.matchMedia("screen and (max-width: 768px)"),i=$(e).closest("header"),o=(t.matches&&(n=$("input.search.adp").val()),[]),s=[],l=0;l<pages.length;l++)!function(e){var a=pages[e];$.ajax({url:a.link,async:!1,success:function(e){var t=document.documentElement.cloneNode(),e=(t.innerHTML=e,{page:a,content:t.querySelector(".wrapper").innerHTML});s.push(e)}})}(l);for(var r=0;r<s.length;r++){var c,d,f=s[r];htmlStringMatchesQuery(f.content,n)&&(c=getElementsByText(f.content,n,"p"),d=getElementsByText(f.content,n,"h2"),0<c.length&&o.push({el:f,tag:c}),0<d.length&&o.push({el:f,tag:d}))}if(t.matches?(i.css({overflow:"inherit"}),a.animate({right:"0"}),$("body").addClass("noscroll")):(i.css({overflow:"inherit"}),a.animate({right:"20px"})),a.on("click",".ico.close",function(){a.animate({right:"-100%"}).promise().done(function(){i.css({overflow:"hidden"})}),a.find(".cnt").children().remove(),$("body").removeClass("noscroll")}),0<o.length){var p=a.find(".cnt");a.find(".cnt").children().remove();for(var _=0;_<o.length;_++){var m=o[_],h=void 0;if(0==p.find('.cnt_box[data-head="'.concat(m.el.page.name,'"]')).length){for(var u='<a href="'.concat(m.el.page.link,'" class="cnt_box" data-head="').concat(m.el.page.name,'"><p class="cnt_head">').concat(m.el.page.name,"</p>"),g=[],b=0;b<m.tag.length;b++)g.push($(m.tag[b]).prop("outerHTML"));h=u+g.join("")+"</a>"}p.append(h)}}else{e=a.find(".cnt");a.find(".cnt").children().remove(),""!==n&&e.append('<a href="javascript:;"><p class="cnt_head">По вашому запиту "'.concat(n,'" нічого не знайдено</p>'))}}),function(){var t=new DOMParser;return function(e){return t.parseFromString(e,"text/html")}}()),getSearchStringForDoc=function(e){return[e.title,e.body.innerText].map(function(e){return e.trim()}).join(" ")},stringMatchesQuery=function(t,e){return console.log(e),t=t.toLowerCase(),(e=e.toLowerCase()).split(/\W+/).some(function(e){return t.includes(e)})},htmlStringMatchesQuery=function(e,t){if(""===t)return!1;e=parseHTMLString(e),e=getSearchStringForDoc(e);return stringMatchesQuery(e,t)};function getElementsByText(e,t,a){var e=parseHTMLString(e),e=Array.prototype.slice.call(e.getElementsByTagName(a)),n=[];return e.filter(function(e){e.textContent.trim().toLowerCase().includes(t.trim().toLowerCase())&&n.push(e)}),n}
//# sourceMappingURL=main.js.map
