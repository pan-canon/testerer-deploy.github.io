<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Registration</title>
  <!-- Подключаем стиль Pico.css и дополнительные стили -->
  
  <style>
/* Сброс базовых отступов и коробочная модель */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* Основные параметры страницы */
html, body {
  width: 100%;
  height: 100%;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: radial-gradient(ellipse at center, #0d0d0d, #1a1a1a);
  color: #e0e0e0;
  overflow: hidden;
}

/* Каждый основной экран растягивается на весь viewport и центрирует контент */
#registration-screen,
#apartment-plan-screen,
#selfie-screen,
#main-screen,
#camera-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  position: relative;
  padding: 20px;
}

/* Для внутренних блоков можно ограничить максимальную ширину (опционально) */
.content-wrapper {
  max-width: 500px;
  width: 100%;
  text-align: center;
}

/* Заголовки – для мистической атмосферы можно использовать декоративный шрифт */
h1, h2 {
  /* Если доступен декоративный шрифт, можно его подключить (например, Creepster с Google Fonts) */
  font-family: 'Creepster', cursive, sans-serif;
  margin-bottom: 20px;
}

/* Стилизация форм, полей ввода и списков для мобильного удобства */
form,
input,
select,
button {
  width: 100%;
  margin-bottom: 15px;
  padding: 10px;
  border: none;
  border-radius: 4px;
  font-size: 16px;
}

/* Поля ввода и селекты – тёмный фон и светлый текст */
input,
select {
  background-color: #333;
  color: #e0e0e0;
}

/* Основные кнопки (идентифицируемые по ID) фиксируются внизу по центру экрана */
#next-step-btn,
#apartment-plan-next-btn,
#capture-btn,
#complete-registration,
#toggle-camera,
#toggle-diary,
#reset-data,
#export-profile-btn {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  padding: 12px 24px;
  background: rgba(50, 50, 50, 0.9);
  color: #e0e0e0;
  border: 1px solid #666;
  border-radius: 25px;
  font-size: 16px;
  text-transform: uppercase;
  cursor: pointer;
  z-index: 1000;
}

/* Если нужны дополнительные стили для второстепенных кнопок (например, переключение этажей) */
#prev-floor-btn,
#next-floor-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  padding: 10px;
  background: rgba(50, 50, 50, 0.9);
  border: none;
  color: #e0e0e0;
  border-radius: 50%;
  cursor: pointer;
  z-index: 1000;
}
#prev-floor-btn {
  left: 10px;
}
#next-floor-btn {
  right: 10px;
}

/* Стилизация изображений (например, аватар и превью селфи) */
#profile-photo,
#selfie-preview {
  border: 2px solid #666;
  border-radius: 50%;
  max-width: 100px;
}

/* Стили для элементов импорта файла */
input[type="file"] {
  padding: 10px;
  background-color: #333;
  color: #e0e0e0;
  border-radius: 4px;
}

/* Эффект «свечения» как в оригинале */
.glowing {
  box-shadow: 0 0 10px 2px #ff0;
}

/* Мистический фон – можно задать полупрозрачную текстуру (путь к изображению замените на свой) */
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('path_to_mystic_texture.png') repeat;
  opacity: 0.05;
  pointer-events: none;
  z-index: -1;
}

/* Адаптивное масштабирование заголовков для мобильных устройств */
h1 {
  font-size: 2em;
}
h2 {
  font-size: 1.75em;
}

/* Дополнительное правило для скрытия скроллбаров (если потребуется) */
::-webkit-scrollbar {
  display: none;
}

    .glowing {
  box-shadow: 0 0 10px 2px #ff0;
}

</style>
</head>

<body>

  <!-- Экран регистрации (Шаг 1) -->
<div id="registration-screen">
  <h1 data-i18n="welcome">Welcome!</h1>
  <form id="registration-form">
    <label for="player-name" data-i18n="enter_name">Enter your name:</label>
    <input type="text" id="player-name" required>

    <label for="player-gender" data-i18n="select_gender">Select your gender:</label>
    <select id="player-gender" required>
      <option value="" disabled selected>Select</option>
      <option value="male" data-i18n="male">Male</option>
      <option value="female" data-i18n="female">Female</option>
      <option value="other" data-i18n="other">Other</option>
    </select>

    <label for="language-selector" data-i18n="select_language">Select Language:</label>
    <select id="language-selector">
      <option value="en">English</option>
      <option value="ru">Русский</option>
      <option value="uk">Українська</option>
    </select>

    <button type="button" id="next-step-btn" data-i18n="next" disabled>Next</button>
  </form>

  <!-- Импорт профиля (альтернативный вход) -->
  <div id="import-profile-container">
    <h2 data-i18n="import_profile">Import Profile</h2>
    <input type="file" id="import-file" accept=".json">
    <button type="button" id="import-profile-btn" data-i18n="import">Import</button>
  </div>
</div>

<!-- Новый экран регистрации плана квартиры (Шаг 2) -->
<div id="apartment-plan-screen" style="display: none;">
  <h2>План квартиры</h2>
  <div id="apartment-plan-container">
    <!-- Таблица будет создана динамически модулем ApartmentPlanManager -->
  </div>
  <div>
    <button type="button" id="prev-floor-btn">Предыдущий этаж</button>
    <button type="button" id="next-floor-btn">Следующий этаж</button>
  </div>
  <button type="button" id="apartment-plan-next-btn">Далее</button>
</div>


  <!-- Экран создания селфи (Шаг 3) -->
  <div id="selfie-screen" style="display: none;">
    <h1 data-i18n="take_selfie">Take a Selfie</h1>
<div id="selfie-container" style="display: none; width: 100%; max-width: 400px;"></div>

    <br>
    <button type="button" id="capture-btn" data-i18n="capture">Capture</button>
    <br>
    <img id="selfie-preview" src="" alt="Selfie Preview" style="display: none; max-width: 400px;">
    <br>
    <button type="button" id="complete-registration" data-i18n="complete" disabled>Complete</button>
  </div>
  
<!-- Основной экран (например, дневник) – после регистрации -->
<div id="main-screen" style="display: none;">
  <h2 data-i18n="diary">Your Diary</h2>
  <div id="profile-info">
    <img id="profile-photo" alt="Profile Photo" style="display: none; max-width: 100px; border-radius: 50%;">
    <p id="profile-name"></p>
  </div>
  <div id="diary"></div>

  <!-- Блок с камерой -->
  <div id="camera-container" style="display: none;">
  </div>

  <!-- Кнопки управления -->
<div id="camera-controls">
  <button type="button" id="toggle-camera" data-i18n="open_camera" style="display: none;">Open Camera</button>
  <button type="button" id="toggle-diary" data-i18n="open_diary" style="display: none;">Open Diary</button>
</div>

  <!-- Кнопка сброса данных -->
  <button type="button" id="reset-data" data-i18n="reset">Reset Data</button>
  <!-- Новая кнопка экспорта профиля -->
  <button type="button" id="export-profile-btn" data-i18n="export">Export Profile</button>
</div>

<!-- Единый контейнер для камеры (используется во всех режимах) -->
<div id="camera-container" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; z-index: 1000;">
  <!-- Видеоэлемент будет создан динамически -->
  <!-- Здесь можно добавить отдельный контейнер для оверлеев (элементы управления) -->
  <div id="camera-controls-overlay" style="position: absolute; top: 0; width: 100%; z-index: 1010;">
    <!-- Элементы управления будут добавляться динамически -->
  </div>
</div>

  
  <!-- Скрипты -->
  <!-- Основной скрипт -->
  <script src="js/sql-wasm.js"></script>
  <script src="js/locales.js"></script>
  <script type="module" src="js/main.js"></script>

</body>
</html>